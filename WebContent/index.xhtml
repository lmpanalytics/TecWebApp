<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <h:outputStylesheet library="css" name="default.css" />
        <title>TecWeb Index</title>
    </h:head>
    <h:body>
        <f:view>
            <h:form>
                <h1>Market and Customer Selections</h1>
                <h3>Select Cluster, Market group, Market, Customer group and Final
                    customer numbers</h3>
                <p></p>
            </h:form>

            <h:form>
                <h:panelGrid columns="2" cellpadding="5"> 
                    <p:selectOneMenu id="clusterSet" 
                                     title="Clusters" 
                                     required="true" 
                                     style="width:255px" 
                                     value="#{customerSetBean.selectedCluster}"			
                                     requiredMessage="Select a cluster">
                        <f:selectItem itemLabel="Choose cluster .." itemValue="#{null}" />
                        <f:selectItems value="#{customerSetBean.clusterSet}" />
                    </p:selectOneMenu>

                    <h:commandButton id="applyCluster" value="Apply"
                                     action="#{customerSetBean.queryMarketGroupSet}">
                    </h:commandButton>
                </h:panelGrid>
            </h:form>

            <h:form>
                <h:panelGrid columns="2" cellpadding="5"> 
                    <p:selectOneMenu id="marketGroupSet" 
                                     title="Market groups"
                                     required="true" 
                                     style="width:255px" 
                                     value="#{customerSetBean.selectedMarketGroup}"
                                     requiredMessage="Select a market group">
                        <f:selectItem itemLabel="Choose market group .." itemValue="#{null}" />
                        <f:selectItems value="#{customerSetBean.marketGroupSet}" />
                    </p:selectOneMenu>

                    <h:commandButton id="applyMarketGroup" value="Apply"
                                     action="#{customerSetBean.queryMarketSet}">
                    </h:commandButton>
                </h:panelGrid>
            </h:form>

            <h:form>
                <h:panelGrid columns="2" cellpadding="5"> 
                    <p:selectOneMenu id="marketSet" 
                                     title="Markets"
                                     required="true" 
                                     style="width:255px" 
                                     value="#{customerSetBean.selectedMarket}"
                                     requiredMessage="Select a market">
                        <f:selectItem itemLabel="Choose market .." itemValue="#{null}" />
                        <f:selectItems value="#{customerSetBean.marketSet}" />
                    </p:selectOneMenu>

                    <h:commandButton id="applyMarket" value="Apply"
                                     action="#{customerSetBean.queryCustGroupSet}">
                    </h:commandButton>
                </h:panelGrid>
            </h:form>

            <h:form>
                <h:panelGrid columns="2" cellpadding="5"> 
                    <p:selectOneMenu id="customerGroupSet" 
                                     title="Customer group"
                                     required="true" 
                                     style="width:255px" 
                                     value="#{customerSetBean.selectedCustGroup}"
                                     requiredMessage="Select a customer group">
                        <f:selectItem itemLabel="Choose customer group .."
                                      itemValue="#{null}" />
                        <f:selectItems value="#{customerSetBean.custGroupSet}" />
                    </p:selectOneMenu>

                    <h:commandButton id="applyCustGrp" value="Apply"
                                     action="#{customerSetBean.queryCustNumberMap}">
                    </h:commandButton>
                </h:panelGrid>
            </h:form>

            <h:form>
                <h:panelGrid columns="2" cellpadding="5"> 
                    <p:selectCheckboxMenu id="customerNumberSet" 
                                          value="#{customerSetBean.selectedCustomers}"
                                          label="Customers"
                                          filter="true" filterMatchMode="contains" 
                                          panelStyle="width:250px">				

                        <f:selectItems 	value="#{customerSetBean.custNumberMap.keySet()}" />
                    </p:selectCheckboxMenu>

                    <h:commandButton id="queryCustNo" value="Apply and Query Customer numbers"
                                     actionListener="#{customerSetBean.collectSelectedCustomers}"
                                     action="calculate">
                    </h:commandButton>
                </h:panelGrid>
            </h:form>

        </f:view>
    </h:body>
</html>